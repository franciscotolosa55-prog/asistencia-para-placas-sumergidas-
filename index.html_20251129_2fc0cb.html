<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistencia para Placas Sumergidas</title>
    <style>
        :root {
            --primary-blue: #0d3b66;
            --secondary-blue: #1d5d9b;
            --accent-blue: #2a7fbf;
            --light-blue: #e6f2ff;
            --dark-blue: #0a2540;
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(13, 59, 102, 0.2);
            --glass-shadow: 0 8px 32px rgba(13, 59, 102, 0.15);
            --text-dark: #0a2540;
            --text-light: #ffffff;
            --success-aqua: #00b894;
            --warning-aqua: #fdcb6e;
            --error-aqua: #e17055;
            --gradient-primary: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 50%, var(--accent-blue) 100%);
            --gradient-card: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(240, 248, 255, 0.8));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            background: var(--gradient-primary);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            background-attachment: fixed;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Glass Morphism Effect */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow);
        }

        /* Header Styles */
        .header {
            background: var(--gradient-card);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow);
            padding: 50px 40px;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, 
                var(--accent-blue), 
                var(--secondary-blue), 
                var(--primary-blue));
        }

        .header h1 {
            font-size: 3rem;
            color: var(--text-dark);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .header h2 {
            font-size: 1.8rem;
            color: var(--primary-blue);
            margin-bottom: 30px;
            font-weight: 300;
        }

        .team-section {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            border: 1px solid var(--glass-border);
        }

        .team-section h3 {
            color: var(--primary-blue);
            margin-bottom: 20px;
            font-size: 1.5rem;
            text-align: center;
        }

        .team-members {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }

        .team-member {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid var(--accent-blue);
            color: var(--text-dark);
            transition: transform 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .team-member:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        /* Navigation */
        .nav-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }

        .nav-btn {
            background: linear-gradient(135deg, var(--secondary-blue), var(--accent-blue));
            color: var(--text-light);
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(29, 93, 155, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .nav-btn:hover {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(29, 93, 155, 0.6);
        }

        /* Section Styles */
        .section {
            background: var(--gradient-card);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow);
            padding: 40px;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 2.2rem;
            color: var(--primary-blue);
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(13, 59, 102, 0.2);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-title::before {
            content: '';
            width: 10px;
            height: 35px;
            background: var(--accent-blue);
            border-radius: 5px;
            box-shadow: 0 0 15px var(--accent-blue);
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 18px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
            background: rgba(255, 255, 255, 1);
        }

        .card h3 {
            color: var(--primary-blue);
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--primary-blue);
            font-size: 1.1rem;
        }

        .form-control {
            width: 100%;
            max-width: 350px;
            padding: 15px 20px;
            border: 2px solid rgba(13, 59, 102, 0.2);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.95);
            color: var(--text-dark);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(42, 127, 191, 0.3);
            background: white;
        }

        .btn {
            background: linear-gradient(135deg, var(--secondary-blue), var(--accent-blue));
            color: var(--text-light);
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(29, 93, 155, 0.4);
        }

        .btn:hover {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(29, 93, 155, 0.6);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning-aqua), #f39c12);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-aqua), #00a085);
        }

        /* Results and Indicators */
        .result-box {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid var(--success-aqua);
            color: var(--text-dark);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .result-box h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
            color: var(--primary-blue);
        }

        .conversion-result {
            font-size: 1.3rem;
            font-weight: 600;
            margin: 15px 0;
            padding: 10px;
            background: rgba(240, 248, 255, 0.8);
            border-radius: 10px;
            text-align: center;
            color: var(--text-dark);
        }

        .semaphore {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            margin: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .semaphore.verde {
            background: linear-gradient(135deg, var(--success-aqua), #00a085);
            color: white;
        }

        .semaphore.amarillo {
            background: linear-gradient(135deg, var(--warning-aqua), #f39c12);
            color: white;
        }

        .semaphore.rojo {
            background: linear-gradient(135deg, var(--error-aqua), #e74c3c);
            color: white;
        }

        /* Video Container */
        .video-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 18px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .video-container iframe {
            border-radius: 12px;
            max-width: 100%;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        /* Difficulty Levels */
        .difficulty-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 12px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            border: 1px solid var(--glass-border);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .level-1 { background: linear-gradient(135deg, #00b894, #00a085); color: white; }
        .level-2 { background: linear-gradient(135deg, #00a896, #00917c); color: white; }
        .level-3 { background: linear-gradient(135deg, #00917c, #00816d); color: white; }
        .level-4 { background: linear-gradient(135deg, #2a7fbf, #1d5d9b); color: white; }
        .level-5 { background: linear-gradient(135deg, #1d5d9b, #0d3b66); color: white; }
        .level-6 { background: linear-gradient(135deg, #0d3b66, #0a2540); color: white; }
        .level-7 { background: linear-gradient(135deg, #fdcb6e, #f39c12); color: white; }
        .level-8 { background: linear-gradient(135deg, #f39c12, #e67e22); color: white; }
        .level-9 { background: linear-gradient(135deg, #e17055, #e74c3c); color: white; }
        .level-10 { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; }

        /* Resources List */
        .resources-list {
            list-style: none;
        }

        .resources-list li {
            margin: 18px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            border-left: 5px solid var(--accent-blue);
            transition: transform 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .resources-list li:hover {
            transform: translateX(10px);
            background: rgba(255, 255, 255, 1);
        }

        .resources-list a {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: color 0.3s ease;
            font-size: 1.1rem;
        }

        .resources-list a:hover {
            color: var(--accent-blue);
        }

        /* Exercise specific styles */
        .exercise-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .exercise-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .feedback-section {
            margin-top: 20px;
            padding: 20px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid var(--glass-border);
            color: var(--text-dark);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* Aqua Effects */
        .aqua-glow {
            box-shadow: 0 0 20px rgba(42, 127, 191, 0.3);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 15px;
            }

            .header {
                padding: 30px 20px;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .header h2 {
                font-size: 1.4rem;
            }

            .section {
                padding: 25px;
            }

            .section-title {
                font-size: 1.8rem;
            }

            .team-members {
                grid-template-columns: 1fr;
            }

            .nav-container {
                flex-direction: column;
                align-items: center;
            }

            .nav-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }

            .exercise-inputs {
                grid-template-columns: 1fr;
            }

            .card {
                padding: 20px;
            }
        }

        /* Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header fade-in">
            <h1>üíß Asistencia para Placas Sumergidas</h1>
            <h2>Herramientas de c√°lculo para fuerzas hidrost√°ticas</h2>
            
            <div class="team-section">
                <h3>üìö Introducci√≥n al Tema</h3>
                <div class="team-members">
                    <div class="team-member">
                        <p>Las placas sumergidas son superficies planas que se encuentran completamente inmersas en un fluido. En mec√°nica de fluidos, es fundamental calcular las fuerzas hidrost√°ticas que act√∫an sobre estas placas, as√≠ como la ubicaci√≥n del centro de presi√≥n donde se aplica la fuerza resultante.</p>
                    </div>
                    <div class="team-member">
                        <p>La fuerza resultante sobre una placa sumergida se calcula como el producto de la presi√≥n en el centroide del √°rea por el √°rea total. El centro de presi√≥n se encuentra siempre por debajo del centroide debido a la distribuci√≥n lineal de presi√≥n en fluidos.</p>
                    </div>
                    <div class="team-member">
                        <p>Esta herramienta te ayudar√° a calcular fuerzas sobre placas de diferentes formas geom√©tricas (rectangulares, triangulares, circulares, trapezoidales) y a comprender los principios fundamentales de la hidrost√°tica aplicada a superficies sumergidas.</p>
                    </div>
                </div>
            </div>

            <nav class="nav-container">
                <a href="#calculadora" class="nav-btn">üßÆ Calculadora de Unidades</a>
                <a href="#ejercicios" class="nav-btn">üìö Ejercicios Interactivos</a>
                <a href="#recursos" class="nav-btn">üîó Recursos de Estudio</a>
            </nav>
        </header>

        <!-- Calculator Section -->
        <section id="calculadora" class="section fade-in">
            <h2 class="section-title">üßÆ Calculadora de Conversi√≥n de Unidades</h2>
            <div class="card aqua-glow">
                <h3>üîß Herramientas de Conversi√≥n</h3>
                <div class="form-group">
                    <label for="tipo">Tipo de Conversi√≥n:</label>
                    <select id="tipo" class="form-control">
                        <option value="cm_m">Cent√≠metros ‚Üí Metros</option>
                        <option value="m_cm">Metros ‚Üí Cent√≠metros</option>
                        <option value="kpa_pa">kPa ‚Üí Pa</option>
                        <option value="pa_kpa">Pa ‚Üí kPa</option>
                        <option value="km_m">Kil√≥metros ‚Üí Metros</option>
                        <option value="m_km">Metros ‚Üí Kil√≥metros</option>
                        <option value="l_ml">Litros ‚Üí Mililitros</option>
                        <option value="ml_l">Mililitros ‚Üí Litros</option>
                        <option value="kg_g">Kilogramos ‚Üí Gramos</option>
                        <option value="g_kg">Gramos ‚Üí Kilogramos</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="valor">Valor a Convertir:</label>
                    <input id="valor" type="number" class="form-control" placeholder="Ingresa el valor">
                </div>
                <button onclick="convertir()" class="btn">üîÑ Convertir Unidades</button>
                <div id="resultadoConv" class="result-box" style="display: none;">
                    <h4>üìä Resultado de la Conversi√≥n</h4>
                    <div id="conversionDetalle" class="conversion-result">
                        <!-- Aqu√≠ se mostrar√° el detalle de la conversi√≥n -->
                    </div>
                    <p id="explicacionConversion">
                        <!-- Aqu√≠ se mostrar√° la explicaci√≥n de la conversi√≥n -->
                    </p>
                </div>
            </div>
        </section>

        <!-- Exercises Section -->
        <section id="ejercicios" class="section fade-in">
            <h2 class="section-title">üìö Ejercicios de Placas Sumergidas</h2>
            <div class="card aqua-glow">
                <h3>üö¶ Sistema de Evaluaci√≥n por Sem√°foro</h3>
                <p>Resuelve los ejercicios y verifica tus respuestas. El sistema te indicar√° tu nivel de precisi√≥n:</p>
                <div style="display: flex; gap: 20px; margin: 20px 0; flex-wrap: wrap;">
                    <span class="semaphore verde">‚â§ 5% Error</span>
                    <span class="semaphore amarillo">‚â§ 10% Error</span>
                    <span class="semaphore rojo">> 10% Error</span>
                </div>
            </div>
            
            <div id="ejercicios-container">
                <!-- Exercises will be generated here by JavaScript -->
            </div>
        </section>

        <!-- Resources Section -->
        <section id="recursos" class="section fade-in">
            <h2 class="section-title">üîó Recursos de Apoyo</h2>
            <div class="card aqua-glow">
                <h3>üìñ Material de Estudio</h3>
                <ul class="resources-list">
                    <li><a href="https://es.wikipedia.org/wiki/Presi%C3%B3n_hidrost%C3%A1tica" target="_blank">üåä Wikipedia: Presi√≥n hidrost√°tica</a></li>
                    <li><a href="https://www.youtube.com/watch?v=K03TQJj3YbY" target="_blank">üé¨ Video: Fuerza sobre placas sumergidas</a></li>
                    <li><a href="https://www.youtube.com/watch?v=Z4KkuYWo6Is" target="_blank">üé¨ Video: Placa rectangular inclinada con diferentes fluidos</a></li>
                    <li><a href="https://www.youtube.com/watch?v=QYw5dOHFzYM" target="_blank">üé¨ Conceptos de hidrost√°tica aplicada</a></li>
                </ul>
            </div>
        </section>
    </div>

    <script>
        // Calculator functionality
        function convertir() {
            const tipo = document.getElementById("tipo").value;
            const valor = parseFloat(document.getElementById("valor").value);
            
            if (isNaN(valor)) {
                alert("Por favor, ingresa un valor num√©rico v√°lido.");
                return;
            }
            
            let resultado;
            let unidadOrigen, unidadDestino, explicacion;

            const conversiones = {
                "cm_m": { 
                    resultado: valor / 100,
                    origen: "cm",
                    destino: "m",
                    explicacion: "1 metro = 100 cent√≠metros"
                },
                "m_cm": { 
                    resultado: valor * 100,
                    origen: "m",
                    destino: "cm",
                    explicacion: "1 metro = 100 cent√≠metros"
                },
                "kpa_pa": { 
                    resultado: valor * 1000,
                    origen: "kPa",
                    destino: "Pa",
                    explicacion: "1 kilopascal = 1000 pascales"
                },
                "pa_kpa": { 
                    resultado: valor / 1000,
                    origen: "Pa",
                    destino: "kPa",
                    explicacion: "1000 pascales = 1 kilopascal"
                },
                "km_m": { 
                    resultado: valor * 1000,
                    origen: "km",
                    destino: "m",
                    explicacion: "1 kil√≥metro = 1000 metros"
                },
                "m_km": { 
                    resultado: valor / 1000,
                    origen: "m",
                    destino: "km",
                    explicacion: "1000 metros = 1 kil√≥metro"
                },
                "l_ml": { 
                    resultado: valor * 1000,
                    origen: "L",
                    destino: "mL",
                    explicacion: "1 litro = 1000 mililitros"
                },
                "ml_l": { 
                    resultado: valor / 1000,
                    origen: "mL",
                    destino: "L",
                    explicacion: "1000 mililitros = 1 litro"
                },
                "kg_g": { 
                    resultado: valor * 1000,
                    origen: "kg",
                    destino: "g",
                    explicacion: "1 kilogramo = 1000 gramos"
                },
                "g_kg": { 
                    resultado: valor / 1000,
                    origen: "g",
                    destino: "kg",
                    explicacion: "1000 gramos = 1 kilogramo"
                }
            };

            const conversion = conversiones[tipo];
            resultado = conversion.resultado;
            unidadOrigen = conversion.origen;
            unidadDestino = conversion.destino;
            explicacion = conversion.explicacion;
            
            const resultadoDiv = document.getElementById("resultadoConv");
            const conversionDetalle = document.getElementById("conversionDetalle");
            const explicacionElement = document.getElementById("explicacionConversion");
            
            // Formatear n√∫meros para mejor legibilidad
            const valorFormateado = valor.toLocaleString('es-ES', { maximumFractionDigits: 6 });
            const resultadoFormateado = resultado.toLocaleString('es-ES', { maximumFractionDigits: 6 });
            
            conversionDetalle.innerHTML = `<span style="font-size: 1.5rem;">${valorFormateado} ${unidadOrigen} = ${resultadoFormateado} ${unidadDestino}</span>`;
            explicacionElement.innerHTML = `<small><i>${explicacion}</i></small>`;
            
            resultadoDiv.style.display = 'block';
        }

        // Exercise System
        function r(min, max) {
            return (Math.random() * (max - min) + min).toFixed(2);
        }

        let soluciones = [];
        let registros = [[], [], [], [], [], [], [], [], [], []]; // 10 ejercicios
        
        // Variables para almacenar los datos actuales de los ejercicios especiales
        let ejercicio5Data = {};
        let ejercicio6Data = {};
        let ejercicio7Data = {};
        let ejercicio8Data = {};
        let ejercicio9Data = {};
        let ejercicio10Data = {};

        function generarEjercicio5Enunciado() {
            // Placa rectangular inclinada con diferentes fluidos (basado en el video)
            ejercicio5Data.ancho = r(1.5, 3.0);
            ejercicio5Data.alto = r(2.0, 4.0);
            ejercicio5Data.angulo = r(30, 60);
            ejercicio5Data.profundidadAgua = r(1.0, 2.5);
            ejercicio5Data.profundidadAceite = r(0.5, 1.5);
            ejercicio5Data.densidadAceite = r(800, 900); // kg/m¬≥

            const gammaAgua = 9.81; // kN/m¬≥
            const gammaAceite = ejercicio5Data.densidadAceite * 9.81 / 1000; // kN/m¬≥
            
            // √Årea de la placa
            const A = ejercicio5Data.ancho * ejercicio5Data.alto;
            
            // Centroides para cada fluido
            const h_c_agua = parseFloat(ejercicio5Data.profundidadAgua) + (parseFloat(ejercicio5Data.alto)/2) * Math.cos(ejercicio5Data.angulo * Math.PI/180);
            const h_c_aceite = parseFloat(ejercicio5Data.profundidadAceite) + (parseFloat(ejercicio5Data.alto)/2) * Math.cos(ejercicio5Data.angulo * Math.PI/180);
            
            // Fuerzas para cada fluido
            const F_agua = gammaAgua * h_c_agua * A;
            const F_aceite = gammaAceite * h_c_aceite * A;
            
            // Fuerza total
            const F_total = F_agua + F_aceite;
            
            // Centro de presi√≥n combinado
            const I_c = (ejercicio5Data.ancho * Math.pow(ejercicio5Data.alto, 3)) / 12;
            const h_p_agua = h_c_agua + I_c/(h_c_agua * A);
            const h_p_aceite = h_c_aceite + I_c/(h_c_aceite * A);
            
            // Centro de presi√≥n equivalente (promedio ponderado)
            const h_p_total = (F_agua * h_p_agua + F_aceite * h_p_aceite) / F_total;

            soluciones[4] = {
                fuerza_agua: parseFloat(F_agua.toFixed(2)),
                fuerza_aceite: parseFloat(F_aceite.toFixed(2)),
                fuerza_total: parseFloat(F_total.toFixed(2)),
                centro_presion: parseFloat(h_p_total.toFixed(3)),
                area: parseFloat(A.toFixed(3)),
                centroide_agua: parseFloat(h_c_agua.toFixed(3)),
                centroide_aceite: parseFloat(h_c_aceite.toFixed(3))
            };

            return `Una placa rectangular inclinada <b>${ejercicio5Data.angulo}¬∞</b> tiene <b>${ejercicio5Data.ancho} m</b> de ancho y <b>${ejercicio5Data.alto} m</b> de alto. La parte superior est√° sumergida en aceite (densidad = ${ejercicio5Data.densidadAceite} kg/m¬≥) hasta <b>${ejercicio5Data.profundidadAceite} m</b> y la parte inferior en agua. Calcule la fuerza resultante total (kN) y la ubicaci√≥n del centro de presi√≥n (m desde la superficie del aceite).`;
        }

        function generarEjercicio6Enunciado() {
            // Compuerta trapezoidal
            ejercicio6Data.baseMayor = r(2.0, 3.5);
            ejercicio6Data.baseMenor = r(1.0, 2.0);
            ejercicio6Data.altura = r(1.5, 2.5);
            ejercicio6Data.distancia = r(2.0, 4.0);

            const gamma = 9.81;
            const A = ((parseFloat(ejercicio6Data.baseMayor) + parseFloat(ejercicio6Data.baseMenor)) * parseFloat(ejercicio6Data.altura)) / 2;
            const h_c = parseFloat(ejercicio6Data.distancia) + (parseFloat(ejercicio6Data.altura) * (2 * parseFloat(ejercicio6Data.baseMenor) + parseFloat(ejercicio6Data.baseMayor))) / (3 * (parseFloat(ejercicio6Data.baseMenor) + parseFloat(ejercicio6Data.baseMayor)));
            const F = gamma * h_c * A;
            const I_c = (parseFloat(ejercicio6Data.altura) * (Math.pow(parseFloat(ejercicio6Data.baseMayor), 3) + Math.pow(parseFloat(ejercicio6Data.baseMenor), 3))) / 36;
            const h_p = h_c + I_c/(h_c * A);

            soluciones[5] = {
                fuerza: parseFloat(F.toFixed(2)),
                centro_presion: parseFloat(h_p.toFixed(3)),
                area: parseFloat(A.toFixed(3)),
                centroide: parseFloat(h_c.toFixed(3))
            };

            return `Una compuerta trapezoidal vertical tiene base mayor de <b>${ejercicio6Data.baseMayor} m</b>, base menor de <b>${ejercicio6Data.baseMenor} m</b> y altura de <b>${ejercicio6Data.altura} m</b>. La superficie del agua est√° a <b>${ejercicio6Data.distancia} m</b> por encima de la base menor. Calcule la fuerza resultante (kN) y la ubicaci√≥n del centro de presi√≥n (m desde la superficie).`;
        }

        function generarEjercicio7Enunciado() {
            // Compuerta circular
            ejercicio7Data.diametro = r(1.0, 2.5);
            ejercicio7Data.distancia = r(2.0, 4.0);

            const gamma = 9.81;
            const radio = ejercicio7Data.diametro / 2;
            const A = Math.PI * Math.pow(radio, 2);
            const h_c = parseFloat(ejercicio7Data.distancia) + parseFloat(radio);
            const F = gamma * h_c * A;
            const I_c = Math.PI * Math.pow(radio, 4) / 4;
            const h_p = h_c + I_c/(h_c * A);

            soluciones[6] = {
                fuerza: parseFloat(F.toFixed(2)),
                centro_presion: parseFloat(h_p.toFixed(3)),
                area: parseFloat(A.toFixed(3)),
                centroide: parseFloat(h_c.toFixed(3))
            };

            return `Una compuerta circular vertical de <b>${ejercicio7Data.diametro} m</b> de di√°metro est√° situada en la pared de un tanque. La superficie del agua est√° a <b>${ejercicio7Data.distancia} m</b> por encima del borde superior de la compuerta. Calcule la fuerza resultante (kN) y la ubicaci√≥n del centro de presi√≥n (m desde la superficie).`;
        }

        function generarEjercicio8Enunciado() {
            // Compuerta triangular
            ejercicio8Data.base = r(1.0, 2.5);
            ejercicio8Data.altura = r(1.5, 3.0);
            ejercicio8Data.distancia = r(2.0, 5.0);

            const gamma = 9.81;
            const A = (ejercicio8Data.base * ejercicio8Data.altura) / 2;
            const h_c = parseFloat(ejercicio8Data.distancia) + (2/3) * parseFloat(ejercicio8Data.altura);
            const F = gamma * h_c * A;
            const I_c = (ejercicio8Data.base * Math.pow(ejercicio8Data.altura, 3)) / 36;
            const h_p = h_c + I_c/(h_c * A);

            soluciones[7] = {
                fuerza: parseFloat(F.toFixed(2)),
                centro_presion: parseFloat(h_p.toFixed(3)),
                area: parseFloat(A.toFixed(3)),
                centroide: parseFloat(h_c.toFixed(3))
            };

            return `Una compuerta triangular vertical de base <b>${ejercicio8Data.base} m</b> y altura <b>${ejercicio8Data.altura} m</b> est√° situada en la pared de un tanque. La superficie del agua est√° a <b>${ejercicio8Data.distancia} m</b> por encima del v√©rtice superior del tri√°ngulo. Calcule la fuerza resultante (kN) y la ubicaci√≥n del centro de presi√≥n (m desde la superficie).`;
        }

        function generarEjercicio9Enunciado() {
            // Compuerta rectangular
            ejercicio9Data.ancho = r(1.5, 2.5);
            ejercicio9Data.alto = r(2.0, 3.5);
            ejercicio9Data.distancia = r(4.0, 6.0);

            const gamma = 9.81;
            const A = ejercicio9Data.ancho * ejercicio9Data.alto;
            const h_c = parseFloat(ejercicio9Data.distancia) + parseFloat(ejercicio9Data.alto)/2;
            const F = gamma * h_c * A;
            const I_c = (ejercicio9Data.ancho * Math.pow(ejercicio9Data.alto, 3)) / 12;
            const h_p = h_c + I_c/(h_c * A);

            soluciones[8] = {
                fuerza: parseFloat(F.toFixed(2)),
                centro_presion: parseFloat(h_p.toFixed(3)),
                area: parseFloat(A.toFixed(3)),
                centroide: parseFloat(h_c.toFixed(3))
            };

            return `Una compuerta rectangular vertical de <b>${ejercicio9Data.ancho} m</b> de ancho y <b>${ejercicio9Data.alto} m</b> de alto est√° situada en la pared de un tanque. La superficie del agua est√° a <b>${ejercicio9Data.distancia} m</b> por encima del borde superior de la compuerta. Calcule la fuerza resultante (kN) y la ubicaci√≥n del centro de presi√≥n (m desde la superficie).`;
        }

        function generarEjercicio10Enunciado() {
            // Compuerta inclinada compleja
            ejercicio10Data.ancho = r(1.8, 3.0);
            ejercicio10Data.alto = r(2.5, 4.0);
            ejercicio10Data.distancia = r(3.0, 5.0);
            ejercicio10Data.angulo = r(30, 60);
            ejercicio10Data.profundidadMaxima = r(6.0, 10.0);

            const gamma = 9.81;
            const A = ejercicio10Data.ancho * ejercicio10Data.alto;
            const h_c = parseFloat(ejercicio10Data.distancia) + (parseFloat(ejercicio10Data.alto)/2) * Math.cos(ejercicio10Data.angulo * Math.PI/180);
            const F = gamma * h_c * A;
            const I_c = (ejercicio10Data.ancho * Math.pow(ejercicio10Data.alto, 3)) / 12;
            const h_p = h_c + I_c/(h_c * A);

            soluciones[9] = {
                fuerza: parseFloat(F.toFixed(2)),
                centro_presion: parseFloat(h_p.toFixed(3)),
                area: parseFloat(A.toFixed(3)),
                centroide: parseFloat(h_c.toFixed(3))
            };

            return `Una compuerta rectangular inclinada <b>${ejercicio10Data.angulo}¬∞</b> tiene <b>${ejercicio10Data.ancho} m</b> de ancho y <b>${ejercicio10Data.alto} m</b> de alto. La superficie del agua est√° a <b>${ejercicio10Data.distancia} m</b> por encima del borde superior de la compuerta, y la profundidad m√°xima es de <b>${ejercicio10Data.profundidadMaxima} m</b>. Calcule la fuerza resultante (kN) y la ubicaci√≥n del centro de presi√≥n (m desde la superficie).`;
        }

        function generarEjercicios() {
            const lista = [
                // Ejercicios b√°sicos
                {e:"1Ô∏è‚É£ Ejercicio 1", nivel:1, en:function(){let h=r(0.5,1.5),A=r(0.3,0.7);soluciones[0]=1000*9.81*h*A; return `Calcula la fuerza sobre una placa horizontal de √°rea ${A} m¬≤ a una profundidad de ${h} m.`;}},
                {e:"2Ô∏è‚É£ Ejercicio 2", nivel:2, en:function(){let h=r(1,2),A=r(0.5,1);soluciones[1]=1000*9.81*h*A; return `Calcula la fuerza sobre una placa sumergida vertical de √°rea ${A} m¬≤ ubicada a ${h} m de profundidad.`;}},
                {e:"3Ô∏è‚É£ Ejercicio 3", nivel:3, en:function(){let h=r(1.5,3),A=r(0.8,1.5);soluciones[2]=1000*9.81*h*A; return `Calcula la fuerza sobre una placa de √°rea ${A} m¬≤ completamente sumergida a ${h} m de profundidad.`;}},
                {e:"4Ô∏è‚É£ Ejercicio 4", nivel:4, en:function(){let h=r(2,4),A=r(1,2);soluciones[3]=1000*9.81*h*A; return `Una placa de √°rea ${A} m¬≤ est√° sumergida en agua salada (Œ≥=10.1 kN/m¬≥) a ${h} m de profundidad. Calcula la fuerza.`;}},

                // NUEVO EJERCICIO 5 - Placa rectangular inclinada con diferentes fluidos
                {e:"5Ô∏è‚É£ Ejercicio 5", nivel:8, en:function(){ return generarEjercicio5Enunciado(); }},

                // Ejercicios especiales
                {e:"6Ô∏è‚É£ Ejercicio 6", nivel:8, en:function(){ return generarEjercicio6Enunciado(); }},
                {e:"7Ô∏è‚É£ Ejercicio 7", nivel:7, en:function(){ return generarEjercicio7Enunciado(); }},
                {e:"8Ô∏è‚É£ Ejercicio 8", nivel:7, en:function(){ return generarEjercicio8Enunciado(); }},
                {e:"9Ô∏è‚É£ Ejercicio 9", nivel:6, en:function(){ return generarEjercicio9Enunciado(); }},
                {e:"üéØ Ejercicio 10", nivel:9, en:function(){ return generarEjercicio10Enunciado(); }}
            ];

            let html = "";
            lista.forEach((x, i) => {
                if (i >= 4) {
                    // Ejercicios especiales (5-10)
                    html += `
                    <div class="card" id="ejercicio-card-${i}">
                        <h3>${x.e} <span class="difficulty-badge level-${x.nivel}">Nivel ${x.nivel}/10</span></h3>
                        <p><b>Enunciado:</b> ${x.en()}</p>
                        <div class="exercise-inputs">
                            <div class="form-group">
                                <label>Fuerza resultante (kN):</label>
                                <input id="resp_${i}_fuerza" type="number" class="form-control" placeholder="Valor en kN">
                            </div>
                            <div class="form-group">
                                <label>Centro de presi√≥n (m):</label>
                                <input id="resp_${i}_centro" type="number" class="form-control" placeholder="Valor en metros">
                            </div>
                        </div>
                        <div class="exercise-actions">
                            <button onclick="verificarEjercicioEspecial(${i})" class="btn">‚úÖ Verificar</button>
                        </div>
                        <div id="respuesta_${i}" class="feedback-section" style="display:none"></div>
                        <div id="boton_siguiente_${i}" class="exercise-actions" style="display:none">
                            <button onclick="siguienteProblema(${i})" class="btn btn-success">üîÑ Siguiente Ejercicio</button>
                        </div>
                        <div id="video_${i}" class="video-container" style="display:none">
                            <h4>üìπ Video Gu√≠a</h4>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/${getVideoId(i)}" frameborder="0" allowfullscreen></iframe>
                        </div>
                        <p id="sem_${i}"><b>Color m√°s frecuente:</b> -</p>
                    </div>`;
                } else {
                    // Ejercicios b√°sicos (1-4)
                    html += `
                    <div class="card">
                        <h3>${x.e} <span class="difficulty-badge level-${x.nivel}">Nivel ${x.nivel}/10</span></h3>
                        <p><b>Enunciado:</b> ${x.en()}</p>
                        <div class="exercise-inputs">
                            <div class="form-group">
                                <label>Respuesta:</label>
                                <input id="resp_${i}" type="number" class="form-control" placeholder="Valor">
                            </div>
                            <div class="form-group">
                                <label>Unidad:</label>
                                <input id="unidad_${i}" type="text" class="form-control" placeholder="Unidad">
                            </div>
                        </div>
                        <button onclick="verificar(${i})" class="btn">‚úÖ Verificar</button>
                        <p id="sem_${i}"><b>Color m√°s frecuente:</b> -</p>
                    </div>`;
                }
            });

            document.getElementById("ejercicios-container").innerHTML = html;
        }

        function getVideoId(i) {
            const videos = {
                4: "Z4KkuYWo6Is", // Ejercicio 5 - Placa rectangular inclinada con diferentes fluidos
                5: "snSJJvOAXro", // Ejercicio 6 - Trapezoidal
                6: "pkwEIqILQaQ", // Ejercicio 7 - Circular
                7: "TKG0uWV8L4M", // Ejercicio 8 - Triangular
                8: "ac_z7B4zoLo", // Ejercicio 9 - Rectangular
                9: "dZoflHjtsaw"  // Ejercicio 10 - Inclinada compleja
            };
            return videos[i] || "ac_z7B4zoLo";
        }

        function siguienteProblema(i) {
            const card = document.getElementById(`ejercicio-card-${i}`);
            let newEnunciado;
            if (i === 4) newEnunciado = generarEjercicio5Enunciado();
            else if (i === 5) newEnunciado = generarEjercicio6Enunciado();
            else if (i === 6) newEnunciado = generarEjercicio7Enunciado();
            else if (i === 7) newEnunciado = generarEjercicio8Enunciado();
            else if (i === 8) newEnunciado = generarEjercicio9Enunciado();
            else newEnunciado = generarEjercicio10Enunciado();

            card.querySelector('p').innerHTML = `<b>Enunciado:</b> ${newEnunciado}`;
            
            // Ocultar elementos de feedback
            document.getElementById(`respuesta_${i}`).style.display = 'none';
            document.getElementById(`video_${i}`).style.display = 'none';
            document.getElementById(`boton_siguiente_${i}`).style.display = 'none';
            
            // Limpiar campos
            document.getElementById(`resp_${i}_fuerza`).value = '';
            document.getElementById(`resp_${i}_centro`).value = '';
        }

        function verificar(i) {
            let val = parseFloat(document.getElementById(`resp_${i}`).value);
            if (isNaN(val)) return;
            let sol = soluciones[i];
            let error = Math.abs((val - sol) / sol) * 100;
            let color = "rojo";
            if (error <= 5) color = "verde";
            else if (error <= 10) color = "amarillo";
            
            registros[i].push(color);
            let freq = registros[i].reduce((a, c) => (a[c] = (a[c] || 0) + 1, a), {});
            let mayor = Object.keys(freq).reduce((a, b) => freq[a] >= freq[b] ? a : b);
            let txt = document.getElementById(`sem_${i}`);
            txt.className = mayor;
            txt.innerHTML = `<b>Color m√°s frecuente:</b> <span class="semaphore ${mayor}">${mayor}</span>`;
        }

        function verificarEjercicioEspecial(i) {
            let fuerzaUsuario = parseFloat(document.getElementById(`resp_${i}_fuerza`).value);
            let centroUsuario = parseFloat(document.getElementById(`resp_${i}_centro`).value);
            
            if (isNaN(fuerzaUsuario) || isNaN(centroUsuario)) {
                alert("Por favor, ingresa ambos valores.");
                return;
            }
            
            let sol = soluciones[i];
            let errorFuerza = Math.abs((fuerzaUsuario - sol.fuerza_total) / sol.fuerza_total) * 100;
            let errorCentro = Math.abs((centroUsuario - sol.centro_presion) / sol.centro_presion) * 100;
            
            let color = "rojo";
            let mostrarVideo = false;
            
            if (errorFuerza <= 5 && errorCentro <= 5) {
                color = "verde";
            } else if (errorFuerza <= 10 && errorCentro <= 10) {
                color = "amarillo";
            } else {
                mostrarVideo = true;
            }
            
            registros[i].push(color);
            let freq = registros[i].reduce((a, c) => (a[c] = (a[c] || 0) + 1, a), {});
            let mayor = Object.keys(freq).reduce((a, b) => freq[a] >= freq[b] ? a : b);
            let txt = document.getElementById(`sem_${i}`);
            txt.className = mayor;
            txt.innerHTML = `<b>Color m√°s frecuente:</b> <span class="semaphore ${mayor}">${mayor}</span>`;
            
            // Mostrar respuesta correcta
            const respuestaDiv = document.getElementById(`respuesta_${i}`);
            respuestaDiv.style.display = 'block';
            
            if (i === 4) {
                // Respuesta especial para el ejercicio 5 (con diferentes fluidos)
                respuestaDiv.innerHTML = `
                    <h4>‚úÖ Respuestas Correctas:</h4>
                    <p><b>Fuerza del agua:</b> ${sol.fuerza_agua} kN</p>
                    <p><b>Fuerza del aceite:</b> ${sol.fuerza_aceite} kN</p>
                    <p><b>Fuerza resultante total:</b> ${sol.fuerza_total} kN</p>
                    <p><b>Centro de presi√≥n:</b> ${sol.centro_presion} m desde la superficie del aceite</p>
                    <p><small><b>Datos intermedios:</b> √Årea = ${sol.area} m¬≤, Centroide agua = ${sol.centroide_agua} m, Centroide aceite = ${sol.centroide_aceite} m</small></p>
                `;
            } else {
                respuestaDiv.innerHTML = `
                    <h4>‚úÖ Respuestas Correctas:</h4>
                    <p><b>Fuerza resultante:</b> ${sol.fuerza} kN</p>
                    <p><b>Centro de presi√≥n:</b> ${sol.centro_presion} m desde la superficie</p>
                    <p><small><b>Datos intermedios:</b> √Årea = ${sol.area} m¬≤, Centroide = ${sol.centroide} m</small></p>
                `;
            }
            
            // Mostrar bot√≥n siguiente
            document.getElementById(`boton_siguiente_${i}`).style.display = 'block';
            
            // Mostrar video gu√≠a si hay error significativo
            const videoDiv = document.getElementById(`video_${i}`);
            if (mostrarVideo) {
                videoDiv.style.display = 'block';
            } else {
                videoDiv.style.display = 'none';
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Smooth scrolling
            document.querySelectorAll('.nav-btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                });
            });

            // Generate exercises
            generarEjercicios();
        });
    </script>
</body>
</html>